{
    "pluginAlias": "advanced_timer",
    "pluginType": "accessory",
    "headerDisplay": "For documentation please see https://github.com/elfive/homebridge-advanced-timer",
    "footerDisplay": "",
    "schema": {
        "name": {
            "title": "Device Name",
            "description": "Device name shows in HomeKit",
            "required": true,
            "type": "string",
            "default": "AdvancedTimer",
            "placeholder": "AdvancedTimer"
        },
        "intervals": {
            "title": "Trigger Plan",
            "description": "Comma-separated trigger plan, every interval(in second) should longer than pulse_trigger_duration.",
            "required": true,
            "type": "string",
            "default": "5,10",
            "placeholder": "5,10"
        },
        "repeat": {
            "title": "Trigger Plan Repeat Count",
            "description": "How many trigger plan cycles repeat, 0 for infinite loop.",
            "required": false,
            "type": "integer",
            "default": 0,
            "minimum": 0,
            "maximum": 86400
        },
        "enable_name": {
            "title": "Enable Service Name",
            "description": "Timer enable switch name shows in HomeKit",
            "required": false,
            "type": "string",
            "default": "Enable",
            "placeholder": "Enable"
        },
        "trigger_name": {
            "title": "Trigger Service Name",
            "description": "Timer trigger indicator name shows in HomeKit.",
            "required": false,
            "type": "string",
            "default": "Trigger",
            "placeholder": "Trigger"
        },
        "trigger_type": {
            "title": "Trigger Type",
            "description": "Trigger type can be TTL or pulse, like electronic.",
            "required": true,
            "type": "integer",
            "default": 0,
            "placeholder": "Pulse",
            "oneOf": [
                { "title": "Pulse", "enum": [0] },
                { "title": "TTL", "enum": [1] }
            ]
        },
        "trigger_status_while_enabled": {
            "title": "Trigger Enabled Status",
            "description": "Trigger status while service enabled, only works in TTL trigger type.",
            "required": true,
            "type": "integer",
            "default": 2,
            "placeholder": "Ignored",
            "oneOf": [
                { "title": "Not Triggered", "enum": [0] },
                { "title": "Triggered", "enum": [1] },
                { "title": "Ignored", "enum": [2] }
            ]
        },
        "trigger_status_while_disabled": {
            "title": "Trigger Disabled Status",
            "description": "Trigger status while service disabled, only works in TTL trigger type.",
            "required": true,
            "type": "integer",
            "default": 2,
            "placeholder": "Ignored",
            "oneOf": [
                { "title": "Not Triggered", "enum": [0] },
                { "title": "Triggered", "enum": [1] },
                { "title": "Ignored", "enum": [2] }
            ]
        },
        "enable_status_when_start": {
            "title": "Init Enabled Status",
            "description": "Enable status when homebridge started/restarted.",
            "required": true,
            "type": "integer",
            "default": 2,
            "placeholder": "Status before restart",
            "oneOf": [
                { "title": "OFF", "enum": [0] },
                { "title": "ON", "enum": [1] },
                { "title": "Status before restart", "enum": [2] }
            ]
        },
        "trigger_status_when_start": {
            "title": "Init Trigger Status",
            "description": "Trigger status when homebridge started/restarted, only works in TTL trigger type.",
            "required": true,
            "type": "integer",
            "default": 2,
            "placeholder": "Status before restart",
            "oneOf": [
                { "title": "OFF", "enum": [0] },
                { "title": "ON", "enum": [1] },
                { "title": "Status before restart", "enum": [2] }
            ]
        },
        "pulse_trigger_duration": {
            "title": "Each time a trigger signal last duration, in second, only works in Pulse trigger type",
            "required": false,
            "type": "integer",
            "default": 3,
            "minimum": 1,
            "maximum": 3
        }
    },
    "form": null,
    "display": null,
    "layout": [
        {
            "ref": "basic",
            "type": "fieldset",
            "expandable": true,
            "expanded": true,
            "title": "Basic settings",
            "items": [
                {
                    "type": "flex",
                    "flex-flow": "column",
                    "items": [
                        "name",
                        "intervals",
                        "repeat"
                    ]
                }
            ]
        },
        {
            "ref": "service_name",
            "type": "fieldset",
            "expandable": true,
            "expanded": false,
            "title": "Service name settings",
            "items": [
                {
                    "type": "flex",
                    "flex-flow": "column",
                    "items": [
                        "enable_name",
                        "trigger_name"
                    ]
                }
            ]
        },
        {
            "ref": "advanced_settings",
            "type": "fieldset",
            "expandable": true,
            "expanded": false,
            "title": "Advanced settings",
            "items": [
                {
                    "type": "flex",
                    "flex-flow": "column",
                    "items": [
                        "trigger_type",
                        "pulse_trigger_duration",
                        "enable_status_when_start",
                        "trigger_status_when_start",
                        "trigger_status_while_enabled",
                        "trigger_status_while_disabled"
                    ]
                }
            ]
        }
    ]
}